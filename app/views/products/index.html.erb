<p id="notice"><%= notice %></p>

<h1>Productos</h1>
<div class="container">

    <div class="row">
      <div class="text-center">
          <!-- Button trigger modal -->
          <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#mynewprovider">
            Nuevo proveedor
          </button>
      </div>
    </div>

    <br>
    <hr>

    <div class="row" id="container_providers">
        <%= render partial: "providers/provider", collection: @providers %>
    </div>


    <!-- Modal  create action -->
      <%= form_for(@provider, remote: true) do |f| %>
        <div class="modal fade" id="mynewprovider" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">

            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
              <h4 class="modal-title" id="myModalLabel">provider</h4>
            </div>
            
            <div class="modal-body">
              <div class="field">
                        <%= f.label :nombre %><br>
                        <%= f.text_area :nombre, class: "form-control" %>
                      </div>
                      
                      <div class="field">
                        <%= f.label :nit %><br>
                        <%= f.text_area :nit, class: "form-control" %>
                      </div>
                      <div class="field">
                        <%= f.label :telefono %><br>
                        <%= f.text_area :telefono, class: "form-control" %>
                      </div>
                      <div class="field">
                        <%= f.label :direccion %><br>
                        <%= f.text_area :direccion, class: "form-control" %>
                      </div>

            </div>

            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal" id="mynewproviderclose">Close</button>
              <%= submit_tag "Create", class: "btn btn-primary" %>
            </div>
          </div>
        </div>
        </div>
      <% end %>
    <!-- Modal -->



</div>

<table class = "table table-hover">
  <thead>
    <tr>
      <th>Nombre</th>
      <th>Cantidad</th>
      <th>Valor unitario</th>
      <th>Valor total curso</th>
      <th colspan="30"></th>
    </tr>
  </thead>

  <tbody>
    <% @products.each do |product| %>
      <tr>
        <td><%= product.nombre %></td>
        <td><%= product.cantidad %></td>
        <td><%= product.valor_unitario %></td>
        <td><%= product.valor_total_curso %></td>
        <td><%= link_to 'Show', product %></td>
        <td><%= link_to 'Edit', edit_product_path(product) %></td>
        <td><%= link_to 'Destroy', product, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Product', new_product_path %>

<h3>Exportar</h3>
<%= link_to "CSV" , products_path(format: "csv") %>
<%= link_to "Excel" , products_path(format: "xls") %>


<h3>Importar</h3>
<%= form_tag import_products_path, multipart: true do %>
<%= file_field_tag :file%>
<%= submit_tag "Importar"%>
<%end %>


